
<!-- Include Leaflet CSS and JS -->
<link rel="stylesheet" href="https://unpkg.com/leaflet/dist/leaflet.css" />
<script src="https://unpkg.com/leaflet/dist/leaflet.js"></script>


<link rel="stylesheet"  href="https://cdn.jsdelivr.net/npm/leaflet-locationpicker@0.3.4/src/leaflet-locationpicker.min.css">
<script src="https://cdn.jsdelivr.net/npm/leaflet-locationpicker@0.3.4/src/leaflet-locationpicker.min.js"></script>


<!-- <div id="work_map" value=" " style="width: 100%; height: 400px;"></div> -->
<div id="work_map" style="width: 100%; height: 400px;"></div>


<script type="text/javascript">
  document.addEventListener('DOMContentLoaded', function () {
    var mapStyle = {
      "color": "#000000",
      "fillColor": "#000000",
      "weight": 2,
      "opacity": 1,
      "fillOpacity": 0.7
    };

    var map = L.map('work_map').setView([35.7745054, 51.3967018], 13);

    L.tileLayer('https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png', {
      attribution: 'Â© OpenStreetMap contributors'
    }).addTo(map);

    var marker;


    var latitude = "<%= object.address.lattitude.present? ? object.address.lattitude : '35.7745054' %>";
    var longitude = "<%= object.address.longtitude.present? ? object.address.longtitude : '35.7745054' %>";

      // Add a marker to the map
      marker = L.marker([latitude, longitude], { draggable: false }).addTo(map);

    // Initialize the location picker
    $('#work_map').locationpicker({
      location: {
        latitude: latitude,
        longitude: longitude
      },
    });
  });
</script>